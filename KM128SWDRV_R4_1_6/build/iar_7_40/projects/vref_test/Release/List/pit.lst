###############################################################################
#
# IAR ANSI C/C++ Compiler V7.40.3.8902/W32 for ARM        13/Apr/2017  10:50:55
# Copyright 1999-2015 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  C:\Freescale\KM128SWDRV_R4_1_6\src\drivers\pit\pit.c
#    Command line =  
#        C:\Freescale\KM128SWDRV_R4_1_6\src\drivers\pit\pit.c
#        --no_size_constraints -D NDEBUG -lCN
#        C:\Freescale\KM128SWDRV_R4_1_6\build\iar_7_40\projects\vref_test\Release\List\
#        -o
#        C:\Freescale\KM128SWDRV_R4_1_6\build\iar_7_40\projects\vref_test\Release\Obj\
#        --no_unroll --debug --endian=little --cpu=Cortex-M0+ --no_mem_idioms
#        -e --fpu=None --dlib_config
#        D:\IAR7.4anzhuang\arm\INC\c\DLib_Config_Normal.h -I
#        C:\Freescale\KM128SWDRV_R4_1_6\build\iar_7_40\projects\vref_test\..\..\..\..\src\common\
#        -I
#        C:\Freescale\KM128SWDRV_R4_1_6\build\iar_7_40\projects\vref_test\..\..\..\..\src\drivers\
#        -I
#        C:\Freescale\KM128SWDRV_R4_1_6\build\iar_7_40\projects\vref_test\..\..\..\..\src\freemaster\
#        -I
#        C:\Freescale\KM128SWDRV_R4_1_6\build\iar_7_40\projects\vref_test\..\..\..\..\src\projects\vref_test\
#        -I
#        C:\Freescale\KM128SWDRV_R4_1_6\build\iar_7_40\projects\vref_test\..\..\..\..\src\toolchain\iar\
#        -Ohs --require_prototypes
#    List file    =  
#        C:\Freescale\KM128SWDRV_R4_1_6\build\iar_7_40\projects\vref_test\Release\List\pit.lst
#    Object file  =  
#        C:\Freescale\KM128SWDRV_R4_1_6\build\iar_7_40\projects\vref_test\Release\Obj\pit.o
#
###############################################################################

C:\Freescale\KM128SWDRV_R4_1_6\src\drivers\pit\pit.c
      1          /******************************************************************************
      2           * (c) Copyright 2010-2015, Freescale Semiconductor Inc.
      3           * ALL RIGHTS RESERVED.
      4           ***************************************************************************//*!
      5           * @file      pit.c
      6           * @version   1.0.4.0
      7           * @date      Feb-02-2015
      8           * @brief     Periodic Interrupt Timer (PIT) driver source code.
      9           ******************************************************************************/
     10          #include "common.h"
     11          #include "pit.h"
     12          
     13          /******************************************************************************
     14           * data type definitions                                                      *
     15           ******************************************************************************/

   \                                 In section .bss, align 4
     16          static PIT_CALLBACK pCallbackPITx;
   \                     pCallbackPITx:
   \   00000000                      DS8 4
     17          
     18          /******************************************************************************
     19           * public function definitions                                                *
     20           ******************************************************************************/

   \                                 In section .text, align 2, keep-with-next
     21          void PIT_InstallCallback (uint8 ip, PIT_CALLBACK pCallback)
     22          {
     23            if (pCallback) { pCallbackPITx = pCallback; NVIC_SetIsr(INT_PIT0_PIT1,ip); }
   \                     PIT_InstallCallback: (+1)
   \   00000000   0x000A             MOVS     R2,R1
   \   00000002   0xD010             BEQ      ??PIT_InstallCallback_0
   \   00000004   0x....             LDR      R2,??DataTable5
   \   00000006   0x6011             STR      R1,[R2, #+0]
   \   00000008   0x2180             MOVS     R1,#+128
   \   0000000A   0x0109             LSLS     R1,R1,#+4        ;; #+2048
   \   0000000C   0x....             LDR      R2,??DataTable5_1  ;; 0xe000e280
   \   0000000E   0x6813             LDR      R3,[R2, #+0]
   \   00000010   0x430B             ORRS     R3,R3,R1
   \   00000012   0x6013             STR      R3,[R2, #+0]
   \   00000014   0x....             LDR      R2,??DataTable5_2  ;; 0xe000e100
   \   00000016   0x6813             LDR      R3,[R2, #+0]
   \   00000018   0x4319             ORRS     R1,R1,R3
   \   0000001A   0x6011             STR      R1,[R2, #+0]
   \   0000001C   0x....             LDR      R1,??DataTable5_3  ;; 0xe000e408
   \   0000001E   0x680A             LDR      R2,[R1, #+0]
   \   00000020   0x0780             LSLS     R0,R0,#+30
   \   00000022   0x4310             ORRS     R0,R0,R2
   \   00000024   0x6008             STR      R0,[R1, #+0]
     24          }
   \                     ??PIT_InstallCallback_0: (+1)
   \   00000026   0x4770             BX       LR               ;; return
     25          

   \                                 In section .text, align 2, keep-with-next
     26          void PIT0_CH0_Init  (tPIT_CH ch, uint32 val)
     27          {
   \                     PIT0_CH0_Init: (+1)
   \   00000000   0xB410             PUSH     {R4}
     28            PIT0_MCR    &= ~0x0002;             /* clear MDIS bit to enables clock      */
   \   00000002   0x....             LDR      R2,??DataTable5_4  ;; 0x4002d000
   \   00000004   0x6813             LDR      R3,[R2, #+0]
   \   00000006   0x2402             MOVS     R4,#+2
   \   00000008   0x43A3             BICS     R3,R3,R4
   \   0000000A   0x6013             STR      R3,[R2, #+0]
     29            PIT0_LDVAL0  = val;
   \   0000000C   0x....             LDR      R2,??DataTable5_5  ;; 0x4002d100
   \   0000000E   0x6011             STR      R1,[R2, #+0]
     30            PIT0_TFLG0   = PIT_TFLG_TIF_MASK;   /* clear interrupt flag                 */
   \   00000010   0x2101             MOVS     R1,#+1
   \   00000012   0x60D1             STR      R1,[R2, #+12]
     31            PIT0_TCTRL0  = ch.TCTRL;
   \   00000014   0x6090             STR      R0,[R2, #+8]
     32          }
   \   00000016   0xBC10             POP      {R4}
   \   00000018   0x4770             BX       LR               ;; return
     33          

   \                                 In section .text, align 2, keep-with-next
     34          void PIT0_CH1_Init  (tPIT_CH ch, uint32 val)
     35          {
   \                     PIT0_CH1_Init: (+1)
   \   00000000   0xB410             PUSH     {R4}
     36            PIT0_MCR    &= ~0x0002;             /* clear MDIS bit to enables clock      */
   \   00000002   0x....             LDR      R2,??DataTable5_4  ;; 0x4002d000
   \   00000004   0x6813             LDR      R3,[R2, #+0]
   \   00000006   0x2402             MOVS     R4,#+2
   \   00000008   0x43A3             BICS     R3,R3,R4
   \   0000000A   0x6013             STR      R3,[R2, #+0]
     37            PIT0_LDVAL1  = val;
   \   0000000C   0x....             LDR      R2,??DataTable5_6  ;; 0x4002d110
   \   0000000E   0x6011             STR      R1,[R2, #+0]
     38            PIT0_TFLG1   = PIT_TFLG_TIF_MASK;   /* clear interrupt flag                 */
   \   00000010   0x2101             MOVS     R1,#+1
   \   00000012   0x60D1             STR      R1,[R2, #+12]
     39            PIT0_TCTRL1  = ch.TCTRL;
   \   00000014   0x6090             STR      R0,[R2, #+8]
     40          }
   \   00000016   0xBC10             POP      {R4}
   \   00000018   0x4770             BX       LR               ;; return
     41          

   \                                 In section .text, align 2, keep-with-next
     42          void PIT1_CH0_Init  (tPIT_CH ch, uint32 val)
     43          {
   \                     PIT1_CH0_Init: (+1)
   \   00000000   0xB410             PUSH     {R4}
     44            PIT1_MCR    &= ~0x0002;             /* clear MDIS bit to enables clock      */
   \   00000002   0x....             LDR      R2,??DataTable5_7  ;; 0x4002e000
   \   00000004   0x6813             LDR      R3,[R2, #+0]
   \   00000006   0x2402             MOVS     R4,#+2
   \   00000008   0x43A3             BICS     R3,R3,R4
   \   0000000A   0x6013             STR      R3,[R2, #+0]
     45            PIT1_LDVAL0  = val;
   \   0000000C   0x....             LDR      R2,??DataTable5_8  ;; 0x4002e100
   \   0000000E   0x6011             STR      R1,[R2, #+0]
     46            PIT1_TFLG0   = PIT_TFLG_TIF_MASK;   /* clear interrupt flag                 */
   \   00000010   0x2101             MOVS     R1,#+1
   \   00000012   0x60D1             STR      R1,[R2, #+12]
     47            PIT1_TCTRL0  = ch.TCTRL;
   \   00000014   0x6090             STR      R0,[R2, #+8]
     48          }
   \   00000016   0xBC10             POP      {R4}
   \   00000018   0x4770             BX       LR               ;; return
     49          

   \                                 In section .text, align 2, keep-with-next
     50          void PIT1_CH1_Init  (tPIT_CH ch, uint32 val)
     51          {
   \                     PIT1_CH1_Init: (+1)
   \   00000000   0xB410             PUSH     {R4}
     52            PIT1_MCR    &= ~0x0002;             /* clear MDIS bit to enables clock      */
   \   00000002   0x....             LDR      R2,??DataTable5_7  ;; 0x4002e000
   \   00000004   0x6813             LDR      R3,[R2, #+0]
   \   00000006   0x2402             MOVS     R4,#+2
   \   00000008   0x43A3             BICS     R3,R3,R4
   \   0000000A   0x6013             STR      R3,[R2, #+0]
     53            PIT1_LDVAL1  = val;
   \   0000000C   0x....             LDR      R2,??DataTable5_9  ;; 0x4002e110
   \   0000000E   0x6011             STR      R1,[R2, #+0]
     54            PIT1_TFLG1   = PIT_TFLG_TIF_MASK;   /* clear interrupt flag                 */
   \   00000010   0x2101             MOVS     R1,#+1
   \   00000012   0x60D1             STR      R1,[R2, #+12]
     55            PIT1_TCTRL1  = ch.TCTRL;
   \   00000014   0x6090             STR      R0,[R2, #+8]
     56          }
   \   00000016   0xBC10             POP      {R4}
   \   00000018   0x4770             BX       LR               ;; return
     57          
     58          /******************************************************************************
     59           * interrupt function definitions                                             *
     60           ******************************************************************************/

   \                                 In section .text, align 2, keep-with-next
     61          weak void pitx_isr (void)
     62          {
   \                     pitx_isr: (+1)
   \   00000000   0xB530             PUSH     {R4,R5,LR}
   \   00000002   0xB081             SUB      SP,SP,#+4
     63            /* process PIT0 module callbacks                                            */
     64            if (SIM_SCGC6 & SIM_SCGC6_PIT0_MASK)
   \   00000004   0x....             LDR      R4,??DataTable5_10  ;; 0x4003f03c
   \   00000006   0x6820             LDR      R0,[R4, #+0]
   \   00000008   0x0480             LSLS     R0,R0,#+18
   \   0000000A   0xD50F             BPL      ??pitx_isr_0
     65            {
     66              /* CH0 interrupt                                                          */
     67              if (PIT0_TFLG0 == PIT_TFLG_TIF_MASK)
   \   0000000C   0x....             LDR      R5,??DataTable5_11  ;; 0x4002d10c
   \   0000000E   0x6828             LDR      R0,[R5, #+0]
   \   00000010   0x2801             CMP      R0,#+1
   \   00000012   0xD103             BNE      ??pitx_isr_1
     68              {
     69                PIT0_TFLG0 = PIT_TFLG_TIF_MASK;   /* clear interrupt flag               */
   \   00000014   0x6028             STR      R0,[R5, #+0]
     70                pCallbackPITx (PIT0CH0_CALLBACK);
   \   00000016   0x....             LDR      R1,??DataTable5
   \   00000018   0x6809             LDR      R1,[R1, #+0]
   \   0000001A   0x4788             BLX      R1
     71              }
     72          
     73              /* CH1 interrupt                                                          */
     74              if (PIT0_TFLG1 == PIT_TFLG_TIF_MASK)
   \                     ??pitx_isr_1: (+1)
   \   0000001C   0x6928             LDR      R0,[R5, #+16]
   \   0000001E   0x2801             CMP      R0,#+1
   \   00000020   0xD104             BNE      ??pitx_isr_0
     75              {
     76                PIT0_TFLG1 = PIT_TFLG_TIF_MASK;   /* clear interrupt flag               */
   \   00000022   0x6128             STR      R0,[R5, #+16]
     77                pCallbackPITx (PIT0CH1_CALLBACK);
   \   00000024   0x2002             MOVS     R0,#+2
   \   00000026   0x....             LDR      R1,??DataTable5
   \   00000028   0x6809             LDR      R1,[R1, #+0]
   \   0000002A   0x4788             BLX      R1
     78              }
     79            }
     80          
     81            /* process PIT1 module iterrupts                                            */
     82            if (SIM_SCGC6 & SIM_SCGC6_PIT1_MASK)
   \                     ??pitx_isr_0: (+1)
   \   0000002C   0x6820             LDR      R0,[R4, #+0]
   \   0000002E   0x0440             LSLS     R0,R0,#+17
   \   00000030   0xD510             BPL      ??pitx_isr_2
     83            {
     84              /* CH0 interrupt                                                          */
     85              if (PIT1_TFLG0 == PIT_TFLG_TIF_MASK)
   \   00000032   0x....             LDR      R4,??DataTable5_12  ;; 0x4002e10c
   \   00000034   0x6820             LDR      R0,[R4, #+0]
   \   00000036   0x2801             CMP      R0,#+1
   \   00000038   0xD104             BNE      ??pitx_isr_3
     86              {
     87                PIT1_TFLG0 = PIT_TFLG_TIF_MASK;   /* clear interrupt flag               */
   \   0000003A   0x6020             STR      R0,[R4, #+0]
     88                pCallbackPITx (PIT1CH0_CALLBACK);
   \   0000003C   0x2004             MOVS     R0,#+4
   \   0000003E   0x....             LDR      R1,??DataTable5
   \   00000040   0x6809             LDR      R1,[R1, #+0]
   \   00000042   0x4788             BLX      R1
     89              }
     90          
     91              /* CH1 interrupt                                                          */
     92              if (PIT1_TFLG1 == PIT_TFLG_TIF_MASK)
   \                     ??pitx_isr_3: (+1)
   \   00000044   0x6920             LDR      R0,[R4, #+16]
   \   00000046   0x2801             CMP      R0,#+1
   \   00000048   0xD104             BNE      ??pitx_isr_2
     93              {
     94                PIT1_TFLG1 = PIT_TFLG_TIF_MASK;   /* clear interrupt flag               */
   \   0000004A   0x6120             STR      R0,[R4, #+16]
     95                pCallbackPITx (PIT1CH1_CALLBACK);
   \   0000004C   0x2008             MOVS     R0,#+8
   \   0000004E   0x....             LDR      R1,??DataTable5
   \   00000050   0x6809             LDR      R1,[R1, #+0]
   \   00000052   0x4788             BLX      R1
     96              }
     97            }
     98          }
   \                     ??pitx_isr_2: (+1)
   \   00000054   0xB001             ADD      SP,SP,#+4
   \   00000056   0xBD30             POP      {R4,R5,PC}       ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5:
   \   00000000   0x........         DC32     pCallbackPITx

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_1:
   \   00000000   0xE000E280         DC32     0xe000e280

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_2:
   \   00000000   0xE000E100         DC32     0xe000e100

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_3:
   \   00000000   0xE000E408         DC32     0xe000e408

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_4:
   \   00000000   0x4002D000         DC32     0x4002d000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_5:
   \   00000000   0x4002D100         DC32     0x4002d100

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_6:
   \   00000000   0x4002D110         DC32     0x4002d110

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_7:
   \   00000000   0x4002E000         DC32     0x4002e000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_8:
   \   00000000   0x4002E100         DC32     0x4002e100

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_9:
   \   00000000   0x4002E110         DC32     0x4002e110

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_10:
   \   00000000   0x4003F03C         DC32     0x4003f03c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_11:
   \   00000000   0x4002D10C         DC32     0x4002d10c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_12:
   \   00000000   0x4002E10C         DC32     0x4002e10c
     99          /******************************************************************************
    100           * End of module                                                              *
    101           ******************************************************************************/

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       4   PIT0_CH0_Init
       4   PIT0_CH1_Init
       4   PIT1_CH0_Init
       4   PIT1_CH1_Init
       0   PIT_InstallCallback
      16   pitx_isr
        16   -- Indirect call


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable5
       4  ??DataTable5_1
       4  ??DataTable5_10
       4  ??DataTable5_11
       4  ??DataTable5_12
       4  ??DataTable5_2
       4  ??DataTable5_3
       4  ??DataTable5_4
       4  ??DataTable5_5
       4  ??DataTable5_6
       4  ??DataTable5_7
       4  ??DataTable5_8
       4  ??DataTable5_9
      26  PIT0_CH0_Init
      26  PIT0_CH1_Init
      26  PIT1_CH0_Init
      26  PIT1_CH1_Init
      40  PIT_InstallCallback
       4  pCallbackPITx
      88  pitx_isr

 
   4 bytes in section .bss
 284 bytes in section .text
 
 284 bytes of CODE memory
   4 bytes of DATA memory

Errors: none
Warnings: none
